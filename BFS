#include<stdio.h>
#include<stdlib.h>
int q[10],front=-1,rear=-1,arr[10][10],visited[10]={0};
int bfs (int s, int n);
void main()
{
 int i,j,n,ch,s;
 printf("-------------BFS---------------\n");
 printf("Enter the Number of Vertices\n");
 scanf("%d",&n);
 printf("Enter the adjacency matrix:\n");
 for(i=1;i<=n;i++)
 {
 for(j=1;j<=n;j++)
 {
 scanf("%d",&arr[i][j]);
 }
 }
 printf("Enter stating vertex ");
 scanf("%d",&s);
 bfs(s,n); 
}

void insert(int item)
 {
     if(front==-1)
     {
     front++;
     }
 rear++;
 q[rear]=item;
 }
 
int delete()
{
 int k;
 if ((front>rear)||(front==-1))
    return (0);
 else
 {
     k=q[front];
     front++;
     return(k);
 }
}
 
int bfs(int s,int n)
{
 int i,p;
 insert(s);
 visited[s]=1;
    p=delete();
    if(p!=0) 
    printf("%d\t",p);
 while(p!=0)
 {
    for(i=1;i<=n;i++)
    {
        if((arr[p][i]==1)&&(visited[i]==0))
        {
        insert(i);
        visited[i]=1;
        }
    }
 p=delete();
 if(p!=0) 
 printf("%d\t",p);
 }
}
