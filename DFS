#include<stdio.h>

#include<stdlib.h>

int top=-1,stack[20],arr[20][20],visited[20]={0};

void dfs (int s, int n);

void main()

{

int i,j,n,ch,s; 

printf("------------DFS--------------\n"); 

printf("Enter the Number of Vertices\n"); 

scanf("%d",&n); 

printf("Enter the adjacency matrix:\n"); 

for(i=1;i<=n;i++) 

{

for(j=1;j<=n;j++) 

{

scanf("%d",&arr[i][j]); 

}

}

printf("Enter stating vertex "); 

scanf("%d",&s); 

dfs(s,n); 

}

 

void push( int item )

{

if ( top == 19 ) 

printf( "Stack overflow " ); 

else 

stack[ ++top ] = item; 

}

 

int pop()

{

int k; 

if ( top == -1 ) 

return ( 0 ); 

else 

{

k = stack[ top-- ];

return ( k ); 

}}

void dfs(int s,int n)

{

int k,i; 

push(s); 

visited[s]=1; 

k=pop(); if(k!=0)

printf("%d\t",k); 

while(k!=0) 

{

for(i=1;i<=n;i++) 

{

if((arr[k][i]!=0)&&(visited[i]==0)) 

{

push(i); 

visited[i]=1; 

} }

k=pop();

if(k!=0)  

printf("%d\t",k); 

} }